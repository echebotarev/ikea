app={validate:function(){var name=$("#input_name").val();var phoneNumber=$("#input_phone").val();var email=$("#input_mail").val();var wishes=$("#comment").text();var errors=false;if(!app.validateNotEmpty(name)){$("#input_name").addClass("formElError").attr("placeholder","Укажите ваше имя");errors=true}else if($("#input_name").hasClass("formElError")){$("#input_name").removeClass("formElError")}if(!app.validatePhoneNumber(phoneNumber)){$("#input_phone").addClass("formElError").attr("placeholder","Укажите ваш телефон");errors=true}else if($("#input_phone").hasClass("formElError")){$("#input_phone").removeClass("formElError")}if(!app.validateEmail(email)){$("#input_mail").addClass("formElError").attr("placeholder","Укажите ваш E-mail");errors=true}else if($("#input_mail").hasClass("formElError")){$("#input_mail").removeClass("formElError")}if(!errors){var msg=$("form").serialize();$.ajax({url:"mail.php",type:"POST",data:msg,success:function(data){$("#footer_middle form").hide();$("#st-successfulSend").show();console.log(msg)},error:function(xhr,str){alert("Произошла неизвестная ошибка. Повторите попытку позже или свяжитесь с администратором.")}})}},validateNotEmpty:function(text){return text.length},validatePhoneNumber:function(phoneNumber){var re=/^[\d+| |\(|\)|\-|\+]+$/g;if(re.test(phoneNumber)&&phoneNumber.length>7){return true}else{return false}},validateEmail:function(email){var re=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z]{2,4})+$/;if(re.test(email)){return true}else{return false}}};$(function(){var note=$("#note"),ts=new Date(2012,0,1),time=new Date(2012,0,1),newYear=true;if(new Date>ts){var date=new Date;var nextMonth=date.getUTCMonth()+1;var month=date.getUTCMonth();var day=date.getUTCDate();if(0<day,day<15){ts=new Date(2016,month,15).getTime()}else ts=new Date(2016,month,30).getTime();newYear=false}$("#countdown").countdown({timestamp:ts,callback:function(days,hours,minutes,seconds){var message="";message+="Дней: "+days+", ";message+="часов: "+hours+", ";message+="минут: "+minutes+" и ";message+="секунд: "+seconds+" <br />";if(newYear){message+="осталось до Нового года!"}else{message+="осталось до момента через 10 дней!"}note.html(message)}});if(new Date>time){var date=new Date;var nextMonth=date.getUTCMonth()+1;var month=date.getUTCMonth();var day=date.getUTCDate();if(0<day,day<15){time=new Date(2016,month,30).getTime()}else time=new Date(2016,nextMonth,15).getTime();newYear=false}$("#count_down").count_down({timestamp:time,callback:function(days,hours,minutes,seconds){var message="";message+="Дней: "+days+", ";message+="часов: "+hours+", ";message+="минут: "+minutes+" и ";message+="секунд: "+seconds+" <br />";if(newYear){message+="осталось до Нового года!"}else{message+="осталось до момента через 10 дней!"}note.html(message)}})});$(document).ready(function(){var date,day,month,writeMonth,dayArrival,monthArrival,writeMonthArrival;date=new Date;day=date.getUTCDate();month=date.getUTCMonth()+1;if(day>0&&day<15){day=15;dayArrival=30;monthArrival=month}else if(day>=15&&day<=30){day=30;dayArrival=15;monthArrival=month+1}else if(day>=15&&day<=28){day=28;dayArrival=15;monthArrival=month+1}switch(month){case 1:writeMonth="января";break;case 2:writeMonth="февраля";break;case 3:writeMonth="марта";break;case 4:writeMonth="апреля";break;case 5:writeMonth="мая";break;case 6:writeMonth="июня";break;case 7:writeMonth="июля";break;case 8:writeMonth="августа";break;case 9:writeMonth="сентября";break;case 10:writeMonth="октября";break;case 11:writeMonth="ноября";break;case 12:writeMonth="декабря";break}switch(monthArrival){case 1:writeMonthArrival="января";break;case 2:writeMonthArrival="февраля";break;case 3:writeMonthArrival="марта";break;case 4:writeMonthArrival="апреля";break;case 5:writeMonthArrival="мая";break;case 6:writeMonthArrival="июня";break;case 7:writeMonthArrival="июля";break;case 8:writeMonthArrival="августа";break;case 9:writeMonthArrival="сентября";break;case 10:writeMonthArrival="октября";break;case 11:writeMonthArrival="ноября";break;case 12:writeMonthArrival="декабря";break}$(".month").text(writeMonth);$(".day").text(day);$(".day_two").text(dayArrival);$(".monthArrival").text(writeMonthArrival)});(function($){var days=24*60*60,hours=60*60,minutes=60;$.fn.countdown=function(prop){var options=$.extend({callback:function(){},timestamp:0},prop);var left,d,h,m,s,positions;init(this,options);positions=this.find(".position");(function tick(){left=Math.floor((options.timestamp-new Date)/1e3);if(left<0){left=0}d=Math.floor(left/days);updateDuo(0,1,d);left-=d*days;h=Math.floor(left/hours);updateDuo(2,3,h);left-=h*hours;m=Math.floor(left/minutes);updateDuo(4,5,m);left-=m*minutes;s=left;updateDuo(6,7,s);options.callback(d,h,m,s);setTimeout(tick,1e3)})();function updateDuo(minor,major,value){switchDigit(positions.eq(minor),Math.floor(value/10)%10);switchDigit(positions.eq(major),value%10)}return this};function init(elem,options){elem.addClass("countdownHolder");$.each(["Days","Hours","Minutes","Seconds"],function(i){$('<span class="count'+this+'">').html('<span class="position">					<span class="digit static">0</span>				</span>				<span class="position">					<span class="digit static">0</span>				</span>				<span class="size"></span>').appendTo(elem);if(this!="Seconds"){elem.append('<span class="countDiv countDiv'+i+'"></span>')}});$(".size").parent()[0].children[2].innerHTML="дни";$(".size").parent()[1].children[2].innerHTML="часы";$(".size").parent()[2].children[2].innerHTML="минуты";$(".size").parent()[3].children[2].innerHTML="секунды"}function switchDigit(position,number){var digit=position.find(".digit");if(digit.is(":animated")){return false}if(position.data("digit")==number){return false}position.data("digit",number);var replacement=$("<span>",{"class":"digit",css:{top:"-2.1em",opacity:0},html:number});digit.before(replacement).removeClass("static").animate({top:"2.5em",opacity:0},"fast",function(){digit.remove()});replacement.delay(100).animate({top:0,opacity:1},"fast",function(){replacement.addClass("static")})}})(jQuery);(function($){var days=24*60*60,hours=60*60,minutes=60;$.fn.count_down=function(prop){var options=$.extend({callback:function(){},timestamp:0},prop);var left,d,h,m,s,positions;init(this,options);positions=this.find(".position");(function tick(){left=Math.floor((options.timestamp-new Date)/1e3);if(left<0){left=0}d=Math.floor(left/days);updateDuo(0,1,d);left-=d*days;h=Math.floor(left/hours);updateDuo(2,3,h);left-=h*hours;m=Math.floor(left/minutes);updateDuo(4,5,m);left-=m*minutes;s=left;updateDuo(6,7,s);options.callback(d,h,m,s);setTimeout(tick,1e3)})();function updateDuo(minor,major,value){switchDigit(positions.eq(minor),Math.floor(value/10)%10);switchDigit(positions.eq(major),value%10)}return this};function init(elem,options){elem.addClass("countdownHolder");$.each(["Days","Hours","Minutes","Seconds"],function(i){$('<span class="count'+this+'">').html('<span class="position">					<span class="digit static">0</span>				</span>				<span class="position">					<span class="digit static">0</span>				</span>				<span class="size_two"></span>').appendTo(elem);if(this!="Seconds"){elem.append('<span class="countDiv countDiv'+i+'"></span>')}});$(".size_two").parent()[0].children[2].innerHTML="дни";$(".size_two").parent()[1].children[2].innerHTML="часы";$(".size_two").parent()[2].children[2].innerHTML="минуты";$(".size_two").parent()[3].children[2].innerHTML="секунды"}function switchDigit(position,number){var digit=position.find(".digit");if(digit.is(":animated")){return false}if(position.data("digit")==number){return false}position.data("digit",number);var replacement=$("<span>",{"class":"digit",css:{top:"-2.1em",opacity:0},html:number});digit.before(replacement).removeClass("static").animate({top:"2.5em",opacity:0},"fast",function(){digit.remove()});replacement.delay(100).animate({top:0,opacity:1},"fast",function(){replacement.addClass("static")})}})(jQuery);
